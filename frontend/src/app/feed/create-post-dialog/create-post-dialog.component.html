<div class="container" style="width: 550px; height: 450px">
  <mat-stepper [linear]="true" #stepper>
    <mat-step label="Create Post" [stepControl]="firstFormGroup">
      <mat-form-field
        class="w-100"
        appearance="outline"
        [formGroup]="firstFormGroup">
        <mat-label>Title</mat-label>
        <input
          matInput
          class="ml-3"
          style="width: 100%"
          required
          [(ngModel)]="data.title"
          formControlName="title" />
        <mat-error *ngIf="title.invalid">Title is required</mat-error>
      </mat-form-field>
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Description</mat-label>
        <textarea
          class="w-100"
          matInput
          cdkTextareaAutosize
          #autosize="cdkTextareaAutosize"
          cdkAutosizeMinRows="10"
          [(ngModel)]="data.content"
          cdkAutosizeMaxRows="10"></textarea>
      </mat-form-field>
      <div
        class="d-flex flex-row align-items-center justify-content-between mt-3">
        <div class="d-flex flex-row align-items-center">
          <input
            style="display: none"
            id="input-file-id"
            accept="image/*"
            type="file"
            (change)="onFileSelected($event)" />
          <label
            for="input-file-id"
            class="mat-raised-button primary bg-info text-light"
            >Upload Image</label
          >
          <p class="ml-2" *ngIf="selectedFile">
            Selected file: {{ selectedFile.name }}
          </p>
          <p class="ml-2" *ngIf="!selectedFile">Selected file: None</p>
        </div>

        <button mat-raised-button matStepperNext color="accent">Next</button>
      </div>
    </mat-step>
    <mat-step label="Preview & Post">
      <div
        class="card-effect d-flex flex-column mt-2"
        style="height: 325px; max-height: 325px; overflow-y: scroll">
        <div class="d-flex flex-row align-items-center ml-2 my-2">
          <div>
            <img
              src="assets/images/avatar.png"
              alt="placeholder"
              style="height: 50px; width: 50px" />
          </div>
          <div class="d-flex flex-column ml-4">
            <div>
              <span style="font-size: 15px" class="font-weight-bold">{{
                name
              }}</span>
            </div>
            <div>
              <span style="font-size: 12px">Career Expert</span>
            </div>
          </div>
        </div>
        <mat-divider class="w-100 my-1"></mat-divider>
        <div class="mt-2">
          <span style="font-size: 25px" class="font-weight-bold">{{
            data.title
          }}</span>
        </div>
        <div class="mt-3">
          <span style="font-size: 12px">{{ data.content }}</span>
        </div>
        <div class="my-2">
          <img
            *ngIf="selectedFile != null"
            [src]="selectedFileURL"
            alt="placeholder"
            style="width: 100%" />
        </div>
      </div>
      <div class="d-flex flex-row justify-content-between">
        <button
          class="mt-2"
          mat-raised-button
          matStepperPrevious
          color="accent">
          Back
        </button>
        <button mat-raised-button color="primary" (click)="post()">Post</button>
      </div>
    </mat-step>
  </mat-stepper>
</div>
